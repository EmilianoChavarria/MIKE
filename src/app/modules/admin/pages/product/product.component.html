<!-- TODO: Seguir checando lo del stock -->
<div class="min-h-[95%] p-10">
    <form action="" [formGroup]="productForm" class="flex flex-col">
        <div class="flex justify-between">
            <div class="w-[47%] flex flex-col gap-y-2">
                <label for="" class="flex flex-col ">
                    <span class="font-bold">
                        Nombre del Producto
                    </span>
                    <input type="text" formControlName="name"
                        class="border border-[#414141] h-8 rounded-md px-2 focus:outline-none focus:ring focus:border-blue-700 ">
                </label>
                <label for="" class="flex flex-col ">
                    <span class="font-bold">
                        Descripción del Producto
                    </span>
                    <input type="text" formControlName="description"
                        class="border border-[#414141] h-8 rounded-md px-2 focus:outline-none focus:ring focus:border-blue-700 ">
                </label>
                <label for="" class="flex flex-col ">
                    <span class="font-bold">
                        Precio
                    </span>
                    <input type="text" formControlName="price"
                        class="border border-[#414141] h-8 rounded-md px-2 focus:outline-none focus:ring focus:border-blue-700 ">
                </label>
                <label for="" class="flex flex-col ">
                    <span class="font-bold">
                        Sexo
                    </span>
                    <div class="flex">
                        <label *ngFor="let gender of genders" class="ml-2">
                            <input type="radio" [value]="gender.name" formControlName="gender">
                            <span class="ml-2">{{gender.value}}</span>
                        </label>
                    </div>
                </label>
                <label for="" class="flex flex-col">
                    <span class="font-bold">
                        Categoría a la que pertenece este producto
                    </span>
                    <p-dropdown formControlName="category"
                        class="border border-[#414141] rounded-md  w-fit focus:outline-none focus:ring focus:border-blue-700 "
                        [checkmark]="true" [showClear]="true" [options]="categories" optionLabel="name"
                        placeholder="Selecciona la categoría" />
                </label>
                <div class="flex">
                    <label for="" class="flex flex-col">
                        <span class="font-bold">
                            Color
                        </span>
                        <p-dropdown formControlName="color"
                            class="border border-[#414141] rounded-md  w-fit focus:outline-none focus:ring focus:border-blue-700 "
                            [checkmark]="true" [showClear]="true" [options]="colors" optionLabel="colorName"
                            placeholder="Selecciona el color" />
                    </label>
                    <button (click)="showDialog()"
                        class="bg-green-600 rounded-full h-fit my-auto text-white px-4 py-2 ml-4">Agregar Nuevo
                        Color</button>
                </div>
                <div class="flex">
                    <label for="" class="flex flex-col">
                        <span class="font-bold">
                            Talla
                        </span>
                        <p-dropdown formControlName="size"
                            class="border border-[#414141] rounded-md  w-fit focus:outline-none focus:ring focus:border-blue-700 "
                            [checkmark]="true" [showClear]="true" [options]="sizes" optionLabel="sizeName"
                            placeholder="Selecciona la talla" />
                    </label>
                    <button (click)="showDialog1()"
                        class="bg-green-600 rounded-full h-fit my-auto text-white px-4 py-2 ml-4">Agregar Nueva
                        Talla</button>
                </div>
                <label for="" class="flex flex-col ">
                    <span class="font-bold">
                        Stock
                    </span>
                    <input type="text" formControlName="stock"
                        class="border border-[#414141] h-8 rounded-md px-2 focus:outline-none focus:ring focus:border-blue-700 ">
                </label>
            </div>
            <div class="w-[47%]">
                <p-toast />
                <span class="font-bold">
                    Elige las imágenes para el producto
                </span>
                <p-fileUpload name="demo[]" url="https://www.primefaces.org/cdn/api/upload.php"
                    (onUpload)="onUpload($event)" [multiple]="true" accept="image/*" maxFileSize="1000000">
                    <ng-template pTemplate="content">
                        <ul *ngIf="uploadedFiles.length">
                            <li *ngFor="let file of uploadedFiles">
                                {{ file.name }} - {{ file.size }} bytes
                            </li>
                        </ul>
                    </ng-template>
                </p-fileUpload>
            </div>
        </div>

        <button (click)="saveProduct()"
            class="bg-blue-500 text-white rounded-lg px-4 w-1/3 mx-auto mt-4 h-8 text-2xl">Guardar Producto</button>
    </form>
</div>


<p-dialog header="Agregar un nuevo color" [modal]="true" [(visible)]="visible" [style]="{ width: '35rem' }"
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
    <form action="" [formGroup]="colorForm">
        <div class="flex">
            <label for="" class="flex flex-col  w-3/4">
                <span class="font-bold">
                    Nombre del Color
                </span>
                <input type="text" formControlName="colorName"
                    class="border border-[#414141] h-8 rounded-md px-2 focus:outline-none focus:ring focus:border-blue-700 ">
            </label>
            <label for="" class="flex flex-col  w-1/4">
                <span class="font-bold">
                    Elige el Color
                </span>
                <input type="color" formControlName="hex"
                    class="border border-[#414141] h-8 rounded-md px-2 focus:outline-none focus:ring focus:border-blue-700 ">
            </label>
        </div>
        <button class="bg-blue-500 rounded-xl text-white px-6 py-1 mt-2" (click)="saveColor()">Guardar</button>
    </form>
</p-dialog>

<p-dialog header="Agregar una nueva talla" [modal]="true" [(visible)]="visible1" [style]="{ width: '35rem' }"
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
    <form action="" [formGroup]="sizeForm">

        <label for="" class="flex flex-col  w-3/4">
            <span class="font-bold">
                Nombre de la Talla
            </span>
            <input type="text" formControlName="sizeName"
                class="border border-[#414141] h-8 rounded-md px-2 focus:outline-none focus:ring focus:border-blue-700 ">
        </label>
        <button class="bg-blue-500 rounded-xl text-white px-6 py-1 mt-2" (click)="saveSize()">Guardar</button>
    </form>
</p-dialog>